jQuery(function(n){if("undefined"==typeof oceanwpLocalize||n(".woocommerce div.product").hasClass("product-type-grouped"))return!1;n.fn.serializeArrayAll=function(){var r=/\r?\n/g;return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).map(function(e,t){var a=jQuery(this).val();return null==a?null==a:"checkbox"==this.type&&0==this.checked?{name:this.name,value:this.checked?this.value:""}:jQuery.isArray(a)?jQuery.map(a,function(e,a){return{name:t.name,value:e.replace(r,"\r\n")}}):{name:t.name,value:a.replace(r,"\r\n")}}).get()};function e(){n(document.body).on("click",".product:not(.product-type-external) .single_add_to_cart_button:not(.disabled)",this.onAddToCart).on("added_to_cart",this.updateButton)}e.prototype.onAddToCart=function(e){e.preventDefault();var t=n(this),r=t.closest("form.cart"),a=r.find('input:not([name="product_id"]), select, button, textarea').serializeArrayAll()||0;n.each(a,function(e,a){"add-to-cart"==a.name&&(a.name="product_id",a.value=r.find("input[name=variation_id]").val()||t.val())}),n(document.body).trigger("adding_to_cart",[t,a]),t.removeClass("added"),t.addClass("loading"),n.ajax({url:woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),type:"POST",data:a,success:function(e){n(document.body).trigger("wc_fragment_refresh"),n(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,t]),"yes"!==oceanwpLocalize.cart_redirect_after_add||(window.location=oceanwpLocalize.cart_url)}})},e.prototype.updateButton=function(e,a,t,r){(r=void 0!==r&&r)&&(r.removeClass("loading"),r.addClass("added"),oceanwpLocalize.is_cart||0!==r.parent().find(".added_to_cart").length||r.after(' <a href="'+oceanwpLocalize.cart_url+'" class="added_to_cart wc-forward" title="'+oceanwpLocalize.view_cart+'">'+oceanwpLocalize.view_cart+"</a>"))},new e});